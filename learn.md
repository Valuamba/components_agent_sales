# How to get chat history

* чтобы получить историю чата нужно, чтобы мы достали `chat_history` из input.
- [ ] Откуда эта переменная там появляется?
    * у базового класса есть метод `input_keys`, который возвращает `[question, chat_history]`
    * если входящая данные - строка, тогда мы присваиваем значение ключу в input_keys: `inputs = {list(_input_keys)[0]: inputs}'
    * prep_inputs - просто подготавливает входящие ключи для передачи в модель. В этом же методе мы передаем историю переписки, которая будет задана ключю либо дефолтному класса Memory, либо нашему (chat_history)

* затем вызывается метод `_call()`
* далее мы преобразуем историю переписки либо кастомным методом, либо тем, который есть по дефолту для того, чтобы сделать его понятным для gpt используя Human/Assistant и т.д.
* question_generator - нужен для того, что из вопроса юзера и истории чата сгенерировать вопрос, который потом видимо будет передан дальше для поиска ответа в документах. Это помогает сжать информацию.
